<html>
<head>
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css"/>
</head>
<body>
<div class="container">
    <div class="jumbotron"><h3> Welcome to CEH Revision dialog</h3></div>
    <form class="form-check-inline" role="form">
        <div id="response-error" class="alert alert-danger" style="display: none"></div>
        <div id="response-success" class="alert alert-success" style="display: none"></div>
        <div class="form-group">
            <label>Question range</label>
            <input type="text" class="form-control" id="question_range" placeholder="1-50">
        </div>
        <div class="form-group">
            <label>Question: <span id="question_number"></span></label><br>
            <img src="images/1.PNG" id="question_image">
        </div>
        <div class="form-group">
            <label>ANSWER</label>
            <input type="text" class="form-control" id="answer">
        </div>
        <div class="form-group"><br>
            <button type="button" class="btn btn-sm btn-outline-success" id="btnMatch">Match</button>
            <button type="button" class="btn btn-sm btn-outline-secondary" id="btnNext">NEXT</button>
            &nbsp;&nbsp;&nbsp;&nbsp;<span class="pull-right">Scores:<span id="scores"></span></span>
        </div>
        <div class="form-group"><br><br><br>
            <button type="button" class="btn btn-sm btn-outline-danger" id="btnReset">Reset</button>
        </div>
    </form>
</div>
<script src="bootstrap/js/bootstrap.js"></script>
<script>
    document.addEventListener("DOMContentLoaded",function(){
        var questionNumber=1,questionStart=1,questionEnd=1,question=1,answer="",answers = {},questionImage = '',scores = 0;
        var elQuestionImage = document.querySelector("#question_image"),elQuestionNumber = document.querySelector("#question_number"),elScores = document.querySelector("#scores"),elFail = document.querySelector("#response-error"),elSuccess = document.querySelector("#response-success");
        loadAnswers();
        document.querySelector("#question_range").addEventListener("blur",function (event){
            initQuestions(this.value);
        })
        document.querySelector("#btnMatch").addEventListener("click",function (event){
            //check result
            console.log(answers);
            console.log(question);
            let userAnswer = document.querySelector("#answer").value.toUpperCase();
            console.log(userAnswer);
            console.log(answers[question]);
            if(userAnswer!=answers[question].toString().toUpperCase()){
                showResponse(false,"Wrong answer,RIGHT ANSWER IS "+answers[question.toString()]);
            }else{
                scores+=1;
                showResponse(true,"Right answer");
            }
        })
        document.querySelector("#btnNext").addEventListener("click",function(){
            console.log(question);
            if(question+1<=questionEnd){
                question+=1;
                elQuestionImage.src=`images/${question}.PNG`;
                elQuestionNumber.innerHTML=question;
                elScores.innerHTML = scores+"/"+(parseInt(question-questionStart)+1);
                document.querySelector("#answer").value="";
            }else{
                showResponse(false,"Reached the end,reset to restart");
            }
        })
        document.querySelector("#btnReset").addEventListener("click",function(){
            question=1;
            questionStart=1;
            questionEnd=1;
            scores = 0;
            elQuestionImage.src=`images/${question}.PNG`;
            document.querySelector("#question_range").value='';
            elSuccess.innerHTML='';
            document.querySelector("#answer").value="";

        })
        function loadAnswers(){ // Do something with the JSON data
            answers = {
                "1": "D",
                "2": "A",
                "3": "A",
                "4": "B",
                "5": "D",
                "6": "C",
                "7": "B",
                "8": "C",
                "9": "A",
                "10": "A",
                "11": "C",
                "12": "B",
                "13": "A",
                "14": "A",
                "15": "D",
                "16": "B",
                "17": "A",
                "18": "B",
                "19": "A",
                "20": "A",
                "21": "D",
                "22": "A",
                "23": "D",
                "24": "C",
                "25": "B",
                "26": "C",
                "27": "A",
                "28": "A",
                "29": "D",
                "30": "B",
                "31": "B",
                "32": "C",
                "33": "D",
                "34": "A",
                "35": "B",
                "36": "B",
                "37": "A",
                "38": "C",
                "39": "B",
                "40": "B",
                "41": "D",
                "42": "B",
                "43": "A",
                "44": "C",
                "45": "A",
                "46": "A",
                "47": "B",
                "48": "A",
                "49": "D",
                "50": "D",
                "51": "D",
                "52": "D",
                "53": "C",
                "54": "D",
                "55": "B",
                "56": "B",
                "57": "A",
                "58": "A",
                "59": "C",
                "60": "A",
                "61": "D",
                "62": "A",
                "63": "A",
                "64": "B",
                "65": "A",
                "66": "C",
                "67": "B",
                "68": "C",
                "69": "D",
                "70": "D",
                "71": "A",
                "72": "B",
                "73": "A",
                "74": "D",
                "75": "D",
                "76": "C",
                "77": "B",
                "78": "A",
                "79": "A",
                "80": "B",
                "81": "A",
                "82": "D",
                "83": "D",
                "84": "D",
                "85": "B",
                "86": "C",
                "87": "B",
                "88": "B",
                "89": "B",
                "90": "C",
                "91": "A",
                "92": "D",
                "93": "C",
                "94": "D",
                "95": "A",
                "96": "B",
                "97": "B",
                "98": "A",
                "99": "D",
                "100": "C",
                "101": "A",
                "102": "F",
                "103": "A",
                "104": "D",
                "105": "E",
                "106": "D",
                "107": "A",
                "108": "B",
                "109": "A,C,D,E",
                "110": "A",
                "111": "B,C,E",
                "112": "A",
                "113": "F",
                "114": "A,C,E",
                "115": "C",
                "116": "B",
                "117": "D",
                "118": "C",
                "119": "B",
                "120": "C",
                "121": "B,D,E",
                "122": "D",
                "123": "B",
                "124": "C",
                "125": "B",
                "126": "C                                                                                                                                      ",
                "127": "A",
                "128": "D",
                "129": "D",
                "130": "D",
                "131": "B",
                "132": "B,C,D,E",
                "133": "D",
                "134": "D",
                "135": "A,B,D",
                "136": "A,B,D",
                "137": "B",
                "138": "A",
                "139": "C",
                "140": "C",
                "141": "B",
                "142": "B",
                "143": "B",
                "144": "B",
                "145": "A",
                "146": "B,E",
                "147": "C",
                "148": "A",
                "149": "B",
                "150": "E",
                "151": "C",
                "152": "B",
                "153": "A",
                "154": "A,E",
                "155": "B",
                "156": "E",
                "157": "A,B,D",
                "158": "D",
                "159": "D",
                "160": "D",
                "161": "D",
                "162": "C",
                "163": "C",
                "164": "A",
                "165": "D",
                "166": "C",
                "167": "A",
                "168": "B",
                "169": "A",
                "170": "D",
                "171": "C",
                "172": "B,D",
                "173": "C",
                "174": "B",
                "175": "D",
                "176": "D",
                "177": "C",
                "178": "A",
                "179": "B",
                "180": "A",
                "181": "C",
                "182": "B",
                "183": "B",
                "184": "B",
                "185": "A",
                "186": "A",
                "187": "A",
                "188": "B",
                "189": "A",
                "190": "B",
                "191": "B",
                "192": "A",
                "193": "C",
                "194": "B",
                "195": "C",
                "196": "B",
                "197": "C",
                "198": "D",
                "199": "C",
                "200": "A",
                "201": "A",
                "202": "B",
                "203": "C",
                "204": "B",
                "205": "D",
                "206": "C",
                "207": "C",
                "208": "D",
                "209": "D",
                "210": "D",
                "211": "D",
                "212": "A",
                "213": "A",
                "214": "B",
                "215": "D",
                "216": "B",
                "217": "D",
                "218": "C",
                "219": "B",
                "220": "A",
                "221": "C",
                "222": "C",
                "223": "D",
                "224": "D",
                "225": "D",
                "226": "C",
                "227": "C",
                "228": "A",
                "229": "B",
                "230": "B",
                "231": "A",
                "232": "D",
                "233": "D",
                "234": "C",
                "235": "D",
                "236": "B",
                "237": "A",
                "238": "C",
                "239": "D",
                "240": "B",
                "241": "A",
                "242": "A",
                "243": "C",
                "244": "B",
                "245": "A",
                "246": "B",
                "247": "D",
                "248": "D",
                "249": "C",
                "250": "B",
                "251": "C",
                "252": "D",
                "253": "A",
                "254": "C",
                "255": "D",
                "256": "C",
                "257": "A",
                "258": "D",
                "259": "A",
                "260": "A",
                "261": "C",
                "262": "D",
                "263": "A",
                "264": "A",
                "265": "D",
                "266": "D",
                "267": "D",
                "268": "A",
                "269": "D",
                "270": "B",
                "271": "B",
                "272": "B",
                "273": "C",
                "274": "B",
                "275": "A",
                "276": "D",
                "277": "A",
                "278": "C",
                "279": "A",
                "280": "C",
                "281": "B",
                "282": "A",
                "283": "B",
                "284": "C",
                "285": "D",
                "286": "A",
                "287": "C",
                "288": "B",
                "289": "C",
                "290": "A",
                "291": "C",
                "292": "B",
                "293": "A",
                "294": "D",
                "295": "D",
                "296": "A",
                "297": "C",
                "298": "A",
                "299": "C",
                "300": "C",
                "301": "B",
                "302": "A",
                "303": "B",
                "304": "B",
                "305": "B",
                "306": "B",
                "307": "C",
                "308": "D",
                "309": "B",
                "310": "B",
                "311": "D",
                "312": "C",
                "313": "D",
                "314": "B",
                "315": "D",
                "316": "C",
                "317": "A",
                "318": "B",
                "319": "D",
                "320": "C",
                "321": "C",
                "322": "D",
                "323": "D",
                "324": "B",
                "325": "C",
                "326": "C",
                "327": "A",
                "328": "C",
                "329": "D",
                "330": "C",
                "331": "C",
                "332": "B",
                "333": "C",
                "334": "A",
                "335": "A",
                "336": "A",
                "337": "A",
                "338": "B",
                "339": "C",
                "340": "C",
                "341": "D",
                "342": "A",
                "343": "B",
                "344": "A",
                "345": "B",
                "346": "C",
                "347": "D",
                "348": "D",
                "349": "C",
                "350": "A",
                "351": "C",
                "352": "D",
                "353": "A",
                "354": "B",
                "355": "B",
                "356": "C",
                "357": "C",
                "358": "D",
                "359": "D",
                "360": "B",
                "361": "C",
                "362": "C",
                "363": "C",
                "364": "A",
                "365": "C",
                "366": "C",
                "367": "A",
                "368": "C",
                "369": "A",
                "370": "B",
                "371": "B",
                "372": "B",
                "373": "D",
                "374": "C",
                "375": "B",
                "376": "D",
                "377": "C",
                "378": "C",
                "379": "C",
                "380": "D",
                "381": "C",
                "382": "C",
                "383": "B",
                "384": "C",
                "385": "A",
                "386": "C",
                "387": "B",
                "388": "B",
                "389": "B",
                "390": "D",
                "391": "C",
                "392": "A",
                "393": "A",
                "394": "D",
                "395": "D",
                "396": "D",
                "397": "C",
                "398": "A",
                "399": "B",
                "400": "C",
                "401": "B",
                "402": "A",
                "403": "C",
                "404": "D",
                "405": "D",
                "406": "C",
                "407": "A",
                "408": "B",
                "409": "B",
                "410": "C",
                "411": "D",
                "412": "C",
                "413": "D",
                "414": "A",
                "415": "B",
                "416": "A",
                "417": "C",
                "418": "A",
                "419": "C",
                "420": "D",
                "421": "A",
                "422": "A",
                "423": "C",
                "424": "D",
                "425": "A",
                "426": "C",
                "427": "B",
                "428": "A",
                "429": "C",
                "430": "D",
                "431": "A",
                "432": "B",
                "433": "D",
                "434": "B",
                "435": "C",
                "436": "C",
                "437": "A",
                "438": "C",
                "439": "C",
                "440": "C",
                "441": "D",
                "442": "B",
                "443": "C",
                "444": "D",
                "445": "A",
                "446": "A",
                "447": "A",
                "448": "D",
                "449": "D",
                "450": "D",
                "451": "A",
                "452": "B",
                "453": "B",
                "454": "D",
                "455": "D",
                "456": "B",
                "457": "D",
                "458": "A",
                "459": "B",
                "460": "C",
                "461": "C",
                "462": "D",
                "463": "C",
                "464": "C",
                "465": "D",
                "466": "D",
                "467": "D",
                "468": "C",
                "469": "A",
                "470": "B",
                "471": "C",
                "472": "B",
                "473": "A",
                "474": "B",
                "475": "B",
                "476": "A",
                "477": "D",
                "478": "B",
                "479": "B",
                "480": "A",
                "481": "D",
                "482": "C",
                "483": "B",
                "484": "C",
                "485": "C",
                "486": "C",
                "487": "B",
                "488": "D",
                "489": "C",
                "490": "A",
                "491": "B",
                "492": "B",
                "493": "B",
                "494": "A",
                "495": "D",
                "496": "B",
                "497": "C",
                "498": "C",
                "499": "A",
                "500": "C",
                "501": "A",
                "502": "D",
                "503": "A",
                "504": "D",
                "505": "B",
                "506": "D",
                "507": "A",
                "508": "A",
                "509": "C",
                "510": "D",
                "511": "C",
                "512": "B",
                "513": "D",
                "514": "A",
                "515": "A",
                "516": "A",
                "517": "B",
                "518": "C",
                "519": "C",
                "520": "A",
                "521": "B",
                "522": "D",
                "523": "D",
                "524": "D",
                "525": "A",
                "526": "C",
                "527": "B",
                "528": "D",
                "529": "C",
                "530": "B",
                "531": "A",
                "532": "A",
                "533": "D",
                "534": "C",
                "535": "C",
                "536": "A",
                "537": "D",
                "538": "B",
                "539": "B",
                "540": "D",
                "541": "D",
                "542": "B",
                "543": "C",
                "544": "B",
                "545": "A",
                "546": "D",
                "547": "B",
                "548": "D",
                "549": "B",
                "550": "D",
                "551": "C",
                "552": "D",
                "553": "C",
                "554": "C",
                "555": "B",
                "556": "D",
                "557": "C",
                "558": "D",
                "559": "B",
                "560": "B",
                "561": "A",
                "562": "D",
                "563": "B",
                "564": "B",
                "565": "D",
                "566": "D",
                "567": "D",
                "568": "D",
                "569": "B",
                "570": "C",
                "571": "B",
                "572": "A",
                "573": "A"
            }
        }
        function initQuestions(val){
            let qRange = val.split("-");
            if(qRange.length<=1){
                showResponse(false,'You should add questions range to practice')
            }else{
                scores=0;
                questionStart = parseInt(qRange[0]);
                questionEnd = parseInt(qRange[1]);
                question = questionStart;
                elQuestionNumber.innerHTML = questionStart;
                elQuestionImage.src = `images/${questionStart}.PNG`;
                elSuccess.innerHTML='';
                elScores.innerHTML = '';
                document.querySelector("#answer").value="";
            }
        }
        function clearResponse(){
            setTimeout(function(){
                elFail.style.display='none';
                elSuccess.style.display='none';
            },5000);
        }
        function showResponse(status,message){
            switch (status){
                case true:
                    elSuccess.innerHTML=message;
                    elSuccess.style.display='block';
                    elFail.style.display='none';
                    break;
                default:
                    elFail.innerHTML=message;
                    elFail.style.display='block';
                    elSuccess.style.display='none';
            }
            clearResponse();
        }
    })
</script>
</body>
</html>